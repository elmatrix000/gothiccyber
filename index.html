<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>GothAlienBoy â€” The Grid</title>

<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

<script src="https://cdn.jsdelivr.net/npm/phaser@3/dist/phaser.min.js"></script>

<style>
:root {
  --bg: #020b0a;
  --grid: #043d38;
  --accent: #00ffcc;
  --danger: #ff3355;
  --text: #c8fff4;
}

* { box-sizing: border-box; }

html, body {
  margin: 0;
  padding: 0;
  background: var(--bg);
  color: var(--text);
  font-family: monospace;
  overflow-x: hidden;
}

section {
  min-height: 100vh;
  padding: 60px 20px;
  border-bottom: 1px solid #022a25;
}

h1, h2 {
  color: var(--accent);
  text-transform: uppercase;
  letter-spacing: 2px;
}

.hero {
  display: flex;
  flex-direction: column;
  justify-content: center;
}

.hero h1 {
  font-size: 32px;
}

.hero p {
  max-width: 500px;
  opacity: 0.9;
}

.button {
  display: inline-block;
  margin-top: 20px;
  padding: 12px 18px;
  border: 1px solid var(--accent);
  color: var(--accent);
  text-decoration: none;
}

.button:hover {
  background: var(--accent);
  color: #000;
}

.lore span {
  display: block;
  margin-bottom: 14px;
  cursor: pointer;
}

.lore span:hover {
  color: var(--accent);
}

#game-container {
  width: 100%;
  max-width: 420px;
  margin: 0 auto;
  border: 1px solid var(--grid);
}

footer {
  text-align: center;
  opacity: 0.5;
  padding: 40px 0;
}
</style>
</head>

<body>

<!-- HERO -->
<section class="hero">
  <h1>GothAlienBoy</h1>
  <p>
    Kagiso was never meant to connect to The Grid.<br>
    The Grid connected to him.
  </p>
  <a href="#game" class="button">ENTER THE GRID</a>
</section>

<!-- LORE -->
<section class="lore">
  <h2>The Lore</h2>

  <span>They mapped the world and forgot the margins.</span>
  <span>Kagiso existed between signal towers.</span>
  <span>Music became code.</span>
  <span>Code became escape.</span>
  <span>GothAlienBoy learned to hear frequencies.</span>
</section>

<!-- GAME -->
<section id="game">
  <h2>Episode 001 â€” Cyber Escape</h2>
  <div id="game-container"></div>
</section>

<!-- SOUND / CULTURE -->
<section>
  <h2>Frequency</h2>
  <p>
    Sound is not entertainment.<br>
    Sound is a weapon.
  </p>
  <p>
    Every beat disrupts The Grid.<br>
    Every rhythm creates a glitch.
  </p>
</section>

<footer>
  SIGNAL ACTIVE â€” KAGISO NODE
</footer>

<script>
/* ================= GAME ================= */

const WIDTH = 360;
const HEIGHT = 640;

let player, bullets, enemies, boss;
let move = 0;
let canShoot = true;
let bossHP = 10;
let over = false;

const config = {
  type: Phaser.AUTO,
  parent: "game-container",
  width: WIDTH,
  height: HEIGHT,
  scale: {
    mode: Phaser.Scale.FIT,
    autoCenter: Phaser.Scale.CENTER_BOTH
  },
  physics: {
    default: "arcade",
    arcade: { gravity: { y: 0 } }
  },
  scene: { create, update }
};

new Phaser.Game(config);

function create() {
  // Background
  this.add.rectangle(0, 0, WIDTH, HEIGHT, 0x031311).setOrigin(0);

  const grid = this.add.graphics();
  grid.lineStyle(1, 0x043d38, 0.4);
  for (let y = 0; y < HEIGHT; y += 40) {
    grid.lineBetween(0, y, WIDTH, y);
  }

  // Player
  player = this.add.rectangle(WIDTH/2, HEIGHT-80, 32, 32, 0x00ffcc);
  this.physics.add.existing(player);
  player.body.setCollideWorldBounds(true);

  bullets = this.physics.add.group();
  enemies = this.physics.add.group();

  spawnEnemies(this);

  this.physics.add.overlap(bullets, enemies, hitEnemy, null, this);

  controls(this);
}

function update() {
  if (over) return;
  player.body.setVelocityX(move * 200);
  enemies.children.each(e => e && (e.y += 0.6));
  if (boss) boss.y += 0.3;
}

function spawnEnemies(scene) {
  for (let i = 0; i < 5; i++) {
    const e = scene.add.rectangle(50 + i*60, -40, 26, 26, 0xff3355);
    scene.physics.add.existing(e);
    enemies.add(e);
  }
}

function shoot(scene) {
  if (!canShoot || over) return;
  const b = scene.add.rectangle(player.x, player.y-20, 4, 14, 0x00ffff);
  scene.physics.add.existing(b);
  b.body.setVelocityY(-420);
  bullets.add(b);
  canShoot = false;
  scene.time.delayedCall(250, () => canShoot = true);
}

function hitEnemy(b, e) {
  b.destroy(); e.destroy();
  if (enemies.countActive(true) === 0 && !boss) spawnBoss(this);
}

function spawnBoss(scene) {
  boss = scene.add.rectangle(WIDTH/2, -80, 140, 80, 0xff6600);
  scene.physics.add.existing(boss);
  scene.physics.add.overlap(bullets, boss, hitBoss, null, scene);
}

function hitBoss(b) {
  b.destroy();
  bossHP--;
  boss.setFillStyle(bossHP % 2 ? 0xff3300 : 0xff9900);
  if (bossHP <= 0) end(scene);
}

function end(scene) {
  over = true;
  scene.add.rectangle(0,0,WIDTH,HEIGHT,0x000000,0.85).setOrigin(0);
  scene.add.text(WIDTH/2, HEIGHT/2,
    "SYSTEM BREACHED\nGOTHALIENBOY ESCAPED",
    { fontSize:"18px", color:"#00ffcc", align:"center" }
  ).setOrigin(0.5);
}

function controls(scene) {
  const style = { fontSize:"24px", backgroundColor:"#111", color:"#00ffcc", padding:{x:14,y:6}};
  const left = scene.add.text(20, HEIGHT-60, "â—€", style).setInteractive();
  const right = scene.add.text(80, HEIGHT-60, "â–¶", style).setInteractive();
  const fire = scene.add.text(WIDTH-70, HEIGHT-60, "ðŸ”¥", style).setInteractive();

  left.on("pointerdown", ()=>move=-1);
  left.on("pointerup", ()=>move=0);
  left.on("pointerout", ()=>move=0);

  right.on("pointerdown", ()=>move=1);
  right.on("pointerup", ()=>move=0);
  right.on("pointerout", ()=>move=0);

  fire.on("pointerdown", ()=>shoot(scene));
}
</script>
</body>
</html>
